---
layout: post
title: "백준 28263 하이퍼 가짜 초콜릿"
date: 2024-02-21 19:45:30 +0900
tags: PS 문제해결
---

## 백준 [28263 하이퍼 가짜 초콜릿](https://www.acmicpc.net/problem/28263)

초콜릿과 숫자놀이를 좋아하는 코코는 “초콜릿 수”를 다음과 같이 정의하였다.

-   어떤 양의 정수
    $$n>1$$이 $$1$$과 자기 자신으로만 나누어 떨어질 때,
-   $$n$$을 초콜릿 수라고 한다.
    얼마 뒤 코코는 “코코 정리”를 발견하였다.

$$p$$가 초콜릿 수이면, $$p$$와 서로소인 모든 정수 $$a$$에 대해

-   $$a^{p-1}\operatorname{mod} p=1$$이다.

코코는 이를 이용해 어떤 수가 초콜릿 수인지 판별하는 방법을 떠올렸다. 구체적인 방법은 다음과 같다.

$$p$$와 서로소인 모든 정수 $$a$$에 대해 $$a^{p-1}\operatorname{mod} p=1$$이면,

-   $$p$$는 초콜릿 수이다.

하지만 얼마 지나지 않아 코코는 561이 이 판별법의 조건을 만족하지만 초콜릿 수가 아니라는 사실을 발견하였다. 코코는 이러한 수를 “가짜 초콜릿 수”라고 부르기로 하고, 가짜 초콜릿 수를 찾는 방법을 연구하기 시작했다.

초콜릿 공장을 돌리는 것도 잊고 연구에 매달린 결과, 코코는 3개, 4개, ..., 10개의 초콜릿 수를 곱한 가짜 초콜릿 수를 찾을 수 있었지만, 11개를 곱한 것은 찾을 수 없었다. 코코 대신 이러한 가짜 초콜릿 수를 찾아주자. 아무거나 찾는 것은 어렵지 않으니, 다음의 조건을 만족하는 수 $$N$$을 찾아보자.

$$N=a_1\times a_2\times\cdots\times a_{11}$$이라고 쓸 때, $$N$$은 가짜 초콜릿 수이고, $$1\le i\le 11$$에 대해 $$a_i$$는 $$10^7\le a_i<10^8$$를 만족하는 초콜릿 수이다.

---

### 개요

2024년 2월 21일 기준 루비5의 문제다.

태그에 `수학`, `정수론`, `해 구성하기`, `휴리스틱`이 있다.

### 풀이

```python
from itertools import combinations

A = 1  # Any numbers
primes = []  # {p - 1 | A이고 p ∤ A인 소수 p}

for i in combinations(primes, 11):
    n = 1
    for j in i:
        n = n * j % A
    n %= A
    if n == 1:
        print(*i, sep=" ")
        break

```

>

문제를 해석해 보면 11개의 소인수가 모두 여덟 자릿수 소수인 카마이클 수를 찾는 문제가 된다.

[카마이클 수에 대한 위키피디아](https://en.wikipedia.org/wiki/Carmichael_number)를 참고하면 카마이클 수 $$n$$이 소수 $$p$$로 나누어떨어질 때 $$p-1\vert n-1$$임을 알 수 있다.

숫자 하나를 정하고 $$A$$라고 하자.

소수들의 집합 $$S$$를 $$p-1\vert A$$이고 $$p∤A$$인 소수 $$p$$들의 집합이라고 하자.

이 $$S$$에서 서로 다른 11개의 소수를 뽑아 곱한 것을 $$B$$라고 했을 때 $$A\vert B-1$$이면 $$B$$는 카마이클 수이다.

그 이유는 $$B$$의 소인수 $$p$$가 $$p-1\vert A$$이고 $$A\vert B-1$$이므로 $$p-1\vert B-1$$이다. 나머지 11개의 소수에 대해서도 같으므로 $$B$$는 카마이클 수인 것이다.

여기서 $$A$$를 잘 정해주어야 하는 데 사용할 소수의 배수가 되면 안 되므로 최대한 소인수를 작은 수 중에서 골라주고 약수를 최대한 많게 해주는 것이 좋다.

나는 약 1,600개의 약수를 갖는 열한 자릿수를 $$A$$로 설정했다. 약 모든 조합을 구해서 확인해 보니 1시간 정도 걸렸고 답이 나왔다.
